services:

  ucms_dashboard.context:
    public: true
    class: MakinaCorpus\Ucms\Dashboard\Context\ContextPane
    arguments: ['@event_dispatcher', '@request_stack']

  ucms_dashboard.admin_widget_factory:
    public: true
    class: MakinaCorpus\Ucms\Dashboard\AdminWidgetFactory
    arguments: ["@form_builder", "@ucms_dashboard.action_provider_registry", "@twig", "@event_dispatcher"]

  ucms_dashboard.processor_registry:
    public: true
    class: MakinaCorpus\Ucms\Dashboard\Action\ProcessorActionProvider
    tags: [{name: ucms_dashboard.action_provider}]

  ucms_dashboard.action_provider_registry:
    public: false
    class: MakinaCorpus\Ucms\Dashboard\Action\ActionRegistry

  ucms_dashboard.transaction_handler:
    public: true
    class: MakinaCorpus\Ucms\Dashboard\TransactionHandler
    arguments: ['@database']

  ucms_dashboard.twig.helper_extension:
    public: false
    class: MakinaCorpus\Ucms\Dashboard\Twig\Extension\HelperExtension
    arguments: ["@entity.manager", "@?ucms_contrib.type_handler", "%kernel.debug%"]
    tags: [{name: twig.extension}]

  ucms_dashboard.twig.action_extension:
    public: false
    class: MakinaCorpus\Ucms\Dashboard\Twig\Extension\ActionExtension
    arguments: ['@ucms_dashboard.action_provider_registry']
    tags: [{name: twig.extension}]
